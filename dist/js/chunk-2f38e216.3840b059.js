(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2f38e216"],{"6f6d":function(t,e,s){},"7f7f":function(t,e,s){var a=s("86cc").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,n="name";n in o||s("9e1e")&&a(o,n,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},b823:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app animated fadeIn"},[s("loading",{attrs:{active:this.$store.state.isLoading,"can-cancel":!0,"is-full-page":this.$store.state.fullPage},on:{"update:active":function(e){return t.$set(this.$store.state,"isLoading",e)}}}),s("b-row",[s("b-col",{ref:"formContainer",attrs:{cols:"12",xl:"12"}},[s("transition",{attrs:{name:"slide"}},[s("b-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("b",{staticClass:"h4"},[t._v(t._s(this.get_text("title@ObjectModel@l")))]),t.$can("models-create")?s("b-button",{staticClass:"btn float-right",attrs:{variant:"primary",size:"md"},on:{click:function(e){t.showingModal=!0}}},[s("b",[s("i",{staticClass:"icon-plus icons font-1xl"}),t._v(" "+t._s(this.get_text("add@ObjectModel@l")))])]):t._e()],1),t.$auth.ready()&&this.$store.state.loading?t._e():s("div",[s("div",{staticStyle:{"text-align":"center","padding-top":"50px"}},[t._v("\n                            "+t._s(this.get_text("loading@l"))+"\n                        ")])]),t.$auth.ready()&&this.$store.state.loading?s("div",[s("b-row",[s("b-col",{staticClass:"my-1",attrs:{md:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:t.get_text("filter@l")}},[s("b-input-group",[s("b-form-input",{attrs:{placeholder:t.get_text("type_to_search@l")},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),s("b-input-group-append",[s("b-btn",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v(t._s(this.get_text("clear@l")))])],1)],1)],1)],1),s("b-col",{staticClass:"my-1",attrs:{md:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:t.get_text("sort@l")}},[s("b-input-group",[s("b-form-select",{attrs:{options:t.sortOptions},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}},[s("option",{attrs:{slot:"first"},domProps:{value:null},slot:"first"},[t._v(t._s(this.get_text("none@l")))])]),s("b-form-select",{attrs:{slot:"append",disabled:!t.sortBy},slot:"append",model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[s("option",{domProps:{value:!1}},[t._v(t._s(this.get_text("asc@l"))+"\n                                            ")]),s("option",{domProps:{value:!0}},[t._v(t._s(this.get_text("desc@l")))])])],1)],1)],1),s("b-col",{staticClass:"my-1",attrs:{md:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:t.get_text("per_page@l")}},[s("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),s("b-table",{attrs:{hover:t.hover,striped:t.striped,bordered:t.bordered,small:t.small,fixed:t.fixed,responsive:"sm",items:t.object,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"Edit",fn:function(e){return[s("b-col",{staticClass:"mb-3 mb-xl-0 text-center"},[s("b-button",{staticClass:"btn-pill",attrs:{variant:"warning",size:"md"},on:{click:function(s){return t.editPriority(e.item,"edit")}}},[s("b",[s("i",{staticClass:"icon-pencil icons font-1xl"}),t._v(" "+t._s(this.get_text("edit@l")))])])],1)]}},{key:"Delete",fn:function(e){return[s("b-col",{staticClass:"mb-3 mb-xl-0 text-center"},[s("b-button",{staticClass:"btn-pill",attrs:{variant:"danger",size:"md"},on:{click:function(s){t.showingdeleteModal=!0,t.selectPriority(e.item)}}},[s("b",[s("i",{staticClass:"icon-trash icons font-1xl"}),t._v(" "+t._s(this.get_text("delete@l")))])])],1)]}},{key:"View",fn:function(e){return t.$can("models-view")?[s("b-col",{staticClass:"mb-3 mb-xl-0 text-center"},[s("b-button",{staticClass:"btn-pill",attrs:{variant:"primary",size:"md"},on:{click:function(s){return t.editPriority(e.item,"view")}}},[s("b",[s("i",{staticClass:"icon-eye icons font-1xl"}),t._v(" "+t._s(t.get_text("view@l")))])])],1)]:void 0}}],null,!0)}),s("nav",[s("b-pagination",{attrs:{size:"sm","total-rows":t.getRowCount,"per-page":t.perPage,"prev-text":this.get_text("prev@l"),"next-text":this.get_text("next@l"),"hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()])],1),s("b-modal",{staticClass:"modal-primary",attrs:{title:t.get_text("add@ObjectModel@l"),size:"lg","hide-footer":""},on:{close:t.setObjectData},model:{value:t.showingModal,callback:function(e){t.showingModal=e},expression:"showingModal"}},[s("b-form",{on:{submit:function(e){return e.preventDefault(),t.createPriority(e)}}},[s("b-row",[s("b-col",{attrs:{sm:"12"}},[s("b-form-group",[s("label",{attrs:{for:"name"}},[t._v(t._s(t.get_text("name@ObjectModel@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.submitted&&t.errors.has("name")},attrs:{type:"text",name:"name",id:"name",placeholder:t.get_text("enter_object_name@ObjectModel@l")},model:{value:t.objectData.name,callback:function(e){t.$set(t.objectData,"name",e)},expression:"objectData.name"}}),t.submitted&&t.errors.has("Type")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("Type"))+"\n                                ")]):t._e()],1)],1)],1),s("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"lg",type:"submit"}},[t._v(t._s(this.get_text("save@ObjectModel@l")))])],1)],1),s("b-modal",{staticClass:"modal-info",attrs:{title:t.get_text("information@ObjectModel@l"),size:"lg","ok-variant":"info"},model:{value:t.showingViewModal,callback:function(e){t.showingViewModal=e},expression:"showingViewModal"}},[this.objectInfo?s("div",{staticClass:"modalcontent"},t._l(this.objectInfo,(function(e,a){return s("b-row",{key:a},[s("b-col",{attrs:{sm:"6"}},[t._v(t._s(t.get_text(a+"@object_model@c")))]),s("b-col",{attrs:{sm:"6"}},[t._v(t._s(e))])],1)})),1):t._e()])],1)],1)],1)},o=[],i=(s("7f7f"),s("28a5"),s("a026")),n=s("2f62"),r=s("5c96"),l=s.n(r),c=s("d3a4");i["default"].use(n["a"]),i["default"].use(l.a),i["default"].prototype.$notify=r["Notification"];var d=new n["a"].Store({state:{translations:{en:{hello:"Hello World"},ar:{hello:"Hallo Verden"}},loading:!1,object:[],userProfile:[],groups:[],isLoading:!1,fullPage:!0,title:"",message:""},mutations:{SET_OBJECTS:function(t,e){t.object=e},CREATED_PRIORITY:function(t,e){console.log("add User",e),this.dispatch("loadObjects"),console.log("after User",t.object)},GET_TEXT_TITLE:function(t,e){return t.title=e},GET_TEXT_MSG:function(t,e){return t.message=e}},getters:{object:function(t){return t.object},getRowCount:function(t){return t.object.length}},actions:{get_text_title:function(t,e){var s=t.commit,a=this.state.translations[c["a"].locale][e];s("GET_TEXT_TITLE",a||"!"+e)},get_text_message:function(t,e){var s=t.commit,a=this.state.translations[c["a"].locale][e];s("GET_TEXT_MSG",a||"!"+e)},loadObjects:function(t){var e=this,s=t.commit;this.state.isLoading=!0,i["default"].axios({url:"object_models",method:"GET"}).then((function(t){200==t.data.code?(e.state.loading=!0,s("SET_OBJECTS",t.data.objectModel)):(e.dispatch("get_text_title","success@m"),e.dispatch("get_text_message",t.data.msg+"@m"),i["default"].prototype.$notify.error({title:e.state.title,message:e.state.message,type:"Error",position:"top-right"})),e.state.isLoading=!1}))},createPriority:function(t,e){var s=this,a=t.commit;this.state.isLoading=!0,i["default"].axios.post("/object_models",e.data).then((function(t){s.state.isLoading=!1,200==t.data.code?(s.dispatch("get_text_title","success@m"),s.dispatch("get_text_message",t.data.msg+"@m"),console.log("Created user",t.data.code,"from the server"),i["default"].prototype.$notify({title:s.state.title,message:s.state.message,type:"success",position:"top-right"}),a("CREATED_PRIORITY",e.data)):(s.dispatch("get_text_title","error@m"),s.dispatch("get_text_message",t.data.msg+"@m"),i["default"].prototype.$notify.error({title:s.state.title,message:s.state.message,type:"Error",position:"top-right"}))})).catch((function(t){s.state.isLoading=!1,422==t.response.status&&(s.dispatch("get_text_title","error@m"),s.dispatch("get_text_message",t.response.data.errors.Type[0]+"@m"),i["default"].prototype.$notify.error({title:s.state.title,message:s.state.message,type:"Error",position:"top-right"}))}))},translation:function(){var t=this;i["default"].axios.get("/gettranslations").then((function(e){if(t.state.isLoading=!1,200==e.data.code){JSON.stringify(e.data.data);t.state.translations=e.data.data}else t.dispatch("get_text_title","error@m"),t.dispatch("get_text_message",e.data.msg+"@m"),i["default"].prototype.$notify.error({title:t.state.title,message:t.state.message,type:"Error",position:"top-right"})})).catch((function(e){t.state.isLoading=!1,422==e.response.status&&(t.dispatch("get_text_title","error@m"),t.dispatch("get_text_message",e.response.data.errors.Type[0]+"@m"),i["default"].prototype.$notify.error({title:t.state.title,message:t.state.message,type:"Error",position:"top-right"}))}))}}}),u=(s("0fae"),s("9062")),f=s.n(u);s("e40d");i["default"].use(l.a),i["default"].use(f.a);var g={store:d,props:{hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1}},created:function(){this.$store.dispatch("loadObjects")},data:function(){return{selected:null,fields:[],button:"",currentPage:1,perPage:5,totalRows:0,objectData:{name:null},objectInfo:null,showingeditModal:!1,showingViewModal:!1,showingModal:!1,showingdeleteModal:!1,submitted:!1,updated:!1,pageOptions:[5,10,15],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,translation:[]}},beforeMount:function(){localStorage.getItem("translation")&&(this.translation=JSON.parse(localStorage.getItem("translation")))},computed:{object:function(){return this.fields=[{key:"id",label:"#"},{key:"name",label:this.get_text("name@object_model@c"),sortable:!0,sortDirection:"desc"},{key:"View",label:this.get_text("view@l"),thClass:"text-center",tdClass:"text-center"}],this.$store.getters.object},getRowCount:function(){return this.$store.getters.getRowCount},sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},watch:{},components:{loading:f.a},methods:{setObjectData:function(){this.objectData={}},get_text:function(t){var e=this.translation[this.$i18n.locale][t];if(e)return e;var s=t.split("@");if(s.length>2){var a=s[0]+"@l",o=this.translation[this.$i18n.locale][a];return o||"!"+t}return"!"+t},$can:function(t){return-1!==this.$auth.user().allPermissions.indexOf(t)},createPriority:function(){var t=this;this.submitted=!0,this.$validator.validate().then((function(e){e&&(t.resetPasswordBtn=!0,t.showingModal=!1,t.$store.dispatch("createPriority",{data:{name:t.objectData.name}}),t.objectData={name:null},t.$validator.reset())}))},selectPriority:function(t){this.objectData=t},editPriority:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.state.isLoading=!0,i["default"].axios.get("/object_models/".concat(t.id),t.id).then((function(t){401==t.data.code?i["default"].prototype.$notify.error({title:"Error",message:t.data.msg,type:"Error",position:"top-right"}):"view"==s?(e.showingViewModal=!0,e.objectInfo=t.data.objectModel):e.objectData=t.data.objectModel,e.$store.state.isLoading=!1})).catch((function(t){console.log(t)}))},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},p=g,m=(s("e67c"),s("fac62"),s("2877")),b=Object(m["a"])(p,a,o,!1,null,"4300f429",null);e["default"]=b.exports},dc60:function(t,e,s){},e67c:function(t,e,s){"use strict";var a=s("6f6d"),o=s.n(a);o.a},fac62:function(t,e,s){"use strict";var a=s("dc60"),o=s.n(a);o.a}}]);
//# sourceMappingURL=chunk-2f38e216.3840b059.js.map