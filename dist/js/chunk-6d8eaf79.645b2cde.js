(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6d8eaf79"],{3846:function(t,e,a){a("9e1e")&&"g"!=/./g.flags&&a("86cc").f(RegExp.prototype,"flags",{configurable:!0,get:a("0bfb")})},4270:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app animated fadeIn"},[a("b-row",[a("b-col",{attrs:{cols:"12",lg:"6"}},[a("b-card",{attrs:{"no-header":""}},[a("template",{slot:"header"},[t._v("\n          User id:  "+t._s(t.$route.params.id)+"\n        ")]),a("b-table",{attrs:{striped:"",small:"",fixed:"",responsive:"sm",items:t.items(t.$route.params.id),fields:t.fields},scopedSlots:t._u([{key:"value",fn:function(e){return[a("strong",[t._v(t._s(e.item.value))])]}}])}),a("template",{slot:"footer"},[a("b-button",{attrs:{variant:"primary"},on:{click:t.goBack}},[a("i",{staticClass:"icon-arrow-left icons font-1xl"}),t._v(" Back")])],1)],2)],1)],1)],1)},o=[],i=a("768b"),r=(a("ac6a"),a("ffc1"),a("6b54"),a("7514"),a("a592")),n={name:"User",store:r["a"],props:{caption:{type:String,default:"User id"}},created:function(){this.$store.dispatch("loadUsers")},data:function(){return{fields:[{key:"key"},{key:"value"}]}},methods:{goBack:function(){this.$router.go(-1)},items:function(t){var e=this.$store.state.users.find((function(e){return e.id.toString()===t})),a=e?Object.entries(e):[["id","Not found"]];return a.map((function(t){var e=Object(i["a"])(t,2),a=e[0],s=e[1];return{key:a,value:s}}))}}},c=n,u=a("2877"),d=Object(u["a"])(c,s,o,!1,null,null,null);e["default"]=d.exports},"469f":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("7d7b")},"504c":function(t,e,a){var s=a("9e1e"),o=a("0d58"),i=a("6821"),r=a("52a7").f;t.exports=function(t){return function(e){var a,n=i(e),c=o(n),u=c.length,d=0,l=[];while(u>d)a=c[d++],s&&!r.call(n,a)||l.push(t?[a,n[a]]:n[a]);return l}}},"54a1":function(t,e,a){a("6c1c"),a("1654"),t.exports=a("95d5")},"5d73":function(t,e,a){t.exports=a("469f")},"6b54":function(t,e,a){"use strict";a("3846");var s=a("cb7c"),o=a("0bfb"),i=a("9e1e"),r="toString",n=/./[r],c=function(t){a("2aba")(RegExp.prototype,r,t,!0)};a("79e5")((function(){return"/a/b"!=n.call({source:"a",flags:"b"})}))?c((function(){var t=s(this);return"/".concat(t.source,"/","flags"in t?t.flags:!i&&t instanceof RegExp?o.call(t):void 0)})):n.name!=r&&c((function(){return n.call(this)}))},"768b":function(t,e,a){"use strict";var s=a("a745"),o=a.n(s);function i(t){if(o()(t))return t}var r=a("5d73"),n=a.n(r),c=a("c8bb"),u=a.n(c);function d(t,e){if(u()(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t)){var a=[],s=!0,o=!1,i=void 0;try{for(var r,c=n()(t);!(s=(r=c.next()).done);s=!0)if(a.push(r.value),e&&a.length===e)break}catch(d){o=!0,i=d}finally{try{s||null==c["return"]||c["return"]()}finally{if(o)throw i}}return a}}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(t,e){return i(t)||d(t,e)||l()}a.d(e,"a",(function(){return f}))},"7d7b":function(t,e,a){var s=a("e4ae"),o=a("7cd6");t.exports=a("584a").getIterator=function(t){var e=o(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return s(e.call(t))}},"7f7f":function(t,e,a){var s=a("86cc").f,o=Function.prototype,i=/^\s*function ([^ (]*)/,r="name";r in o||a("9e1e")&&s(o,r,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},"95d5":function(t,e,a){var s=a("40c3"),o=a("5168")("iterator"),i=a("481b");t.exports=a("584a").isIterable=function(t){var e=Object(t);return void 0!==e[o]||"@@iterator"in e||i.hasOwnProperty(s(e))}},a592:function(t,e,a){"use strict";a.d(e,"a",(function(){return c}));a("7f7f");var s=a("a026"),o=a("2f62"),i=a("5c96"),r=a.n(i),n=a("d3a4");s["default"].use(o["a"]),s["default"].use(r.a),s["default"].prototype.$notify=i["Notification"];var c=new o["a"].Store({state:{translations:{en:{hello:"Hello World"},ar:{hello:"Hallo Verden"}},loading:!1,users:[],userProfile:[],groups:[],parents:[],isLoading:!1,fullPage:!0,title:"",message:""},mutations:{SET_USERS:function(t,e){t.users=e},SET_USER_PROFILE:function(t,e){t.userProfile=e},SET_GROUP:function(t,e){t.groups=e.map((function(t){return{text:t.name,value:t.id}}))},REMOVE_USER:function(t,e){var a=t.users;a.splice(a.indexOf(e),1)},UPDATE_USER:function(t,e){console.log(e)},CREATED_USER:function(t,e){console.log("add User",e),this.dispatch("loadUsers"),console.log("after User",t.users)},SET_PARENT_TANENTS:function(t,e){t.parents=e},SET_GROUP_TANENTS:function(t,e){console.log(e),t.groupTanent=e.map((function(t){return{text:t.name,value:t.name}}))},GET_TEXT_TITLE:function(t,e){return t.title=e},GET_TEXT_MSG:function(t,e){return t.message=e}},getters:{users:function(t){return t.users},getRowCount:function(t){return t.users.length}},actions:{get_text_title:function(t,e){var a=t.commit,s=this.state.translations[n["a"].locale][e];a("GET_TEXT_TITLE",s||"!"+e)},get_text_message:function(t,e){var a=t.commit,s=this.state.translations[n["a"].locale][e];a("GET_TEXT_MSG",s||"!"+e)},loadUsers:function(t){var e=this,a=t.commit;this.state.isLoading=!0,s["default"].axios({url:"user",method:"GET"}).then((function(t){200==t.data.code?a("SET_USERS",t.data.data):(e.dispatch("get_text_title","Error"),e.dispatch("get_text_message",t.data.msg),s["default"].prototype.$notify.error({title:e.state.title,message:e.state.message,type:"Error",position:"top-right"})),e.state.isLoading=!1}))},loadGroups:function(t){var e=this,a=t.commit;s["default"].axios({url:"allGroup",method:"GET"}).then((function(t){200==t.data.code&&(e.state.loading=!0,a("SET_GROUP",t.data.groups))}))},loadParentTenant:function(t){var e=this,a=t.commit;s["default"].axios({url:"allTenant",method:"GET"}).then((function(t){200==t.data.code&&(e.state.loading=!0,a("SET_PARENT_TANENTS",t.data.subTenants))}))},loadUsersProfile:function(t,e){var a=this,o=t.commit;this.state.isLoading=!0,s["default"].axios({url:"/user/".concat(e.id,"/profile"),method:"GET"}).then((function(t){alert(t.data.code),200==t.data.code?o("SET_USER_PROFILE",t.data.data):(a.dispatch("get_text_title","Error@m"),a.dispatch("get_text_message",t.data.msg+"@m"),s["default"].prototype.$notify.error({title:a.state.title,message:a.state.message,type:"Error",position:"top-right"})),a.state.isLoading=!1}))},loadGroupsTenant:function(t){var e=this,a=t.commit;s["default"].axios({url:"rolesList",method:"GET"}).then((function(t){200==t.data.code&&(console.log(t.data),e.state.loading=!0,a("SET_GROUP_TANENTS",t.data.roles))}))},updateUserProfile:function(t,e){var a=this,o=(t.commit,{headers:{"content-type":"multipart/form-data"}});this.state.isLoading=!0,s["default"].axios.post("/user/".concat(e.where,"/profile"),e.data,o).then((function(t){204==t.data.code?(a.dispatch("get_text_title","Success@m"),a.dispatch("get_text_message",t.data.msg+"@m"),console.log("Update user",t.data.code,"from the server"),s["default"].prototype.$notify({title:a.state.title,message:a.state.message,type:"success",position:"top-right"})):(a.dispatch("get_text_title","Error@m"),a.dispatch("get_text_message",t.data.msg+"@m"),s["default"].prototype.$notify.error({title:a.state.title,message:a.state.message,type:"Error",position:"top-right"})),a.state.isLoading=!1}))},updateUserPassword:function(t,e){var a=this;t.commit;this.state.isLoading=!0,s["default"].axios.put("/user/".concat(e.where,"/credentials"),e.data).then((function(t){console.log("Update user",t.data.code,"from the server"),a.dispatch("get_text_title","Success@m"),a.dispatch("get_text_message",t.data.msg+"@m"),console.log("Update user",t.data.code,"from the server"),s["default"].prototype.$notify({title:a.state.title,message:a.state.message,type:"success",position:"top-right"}),a.state.isLoading=!1}))},removeUser:function(t,e){var a=this,o=t.commit;this.state.isLoading=!0,s["default"].axios.delete("/user/".concat(e.id)).then((function(t){a.state.isLoading=!1,200==t.data.code?(console.log("removed user",t.data.code,"from the server"),a.dispatch("get_text_title","Success@m"),a.dispatch("get_text_message",t.data.msg+"@m"),s["default"].prototype.$notify({title:a.state.title,message:a.state.message,type:"success",position:"top-right"}),o("REMOVE_USER",e)):(a.dispatch("get_text_title","Error@m"),a.dispatch("get_text_message",t.data.msg+"@m"),s["default"].prototype.$notify.error({title:a.state.title,message:a.state.message,type:"Error",position:"top-right"}))}))},updateUser:function(t,e){var a=this,o=t.commit;this.state.isLoading=!0,s["default"].axios.put("/user/".concat(e.where),e.data).then((function(t){a.state.isLoading=!1,console.log("Update user",t.data.code,"from the server"),a.dispatch("get_text_title","Success@m"),a.dispatch("get_text_message",t.data.msg+"@m"),s["default"].prototype.$notify({title:a.state.title,message:a.state.message,type:"success",position:"top-right"}),o("UPDATE_USER",e.data)}))},createUser:function(t,e){var a=this,o=t.commit;this.state.isLoading=!0,s["default"].axios.post("/user",e.data).then((function(t){a.state.isLoading=!1,200==t.data.code?(a.dispatch("get_text_title","Success@m"),a.dispatch("get_text_message",t.data.msg+"@m"),console.log("Created user",t.data.code,"from the server"),s["default"].prototype.$notify({title:a.state.title,message:a.state.message,type:"success",position:"top-right"}),o("CREATED_USER",e.data)):(a.dispatch("get_text_title","Error@m"),a.dispatch("get_text_message",t.data.msg+"@m"),s["default"].prototype.$notify.error({title:a.state.title,message:a.state.message,type:"Error",position:"top-right"}))}))},translation:function(){var t=this;s["default"].axios.get("/gettranslations").then((function(e){if(t.state.isLoading=!1,200==e.data.code){JSON.stringify(e.data.data);t.state.translations=e.data.data}else t.dispatch("get_text_title","Error@m"),t.dispatch("get_text_message",e.data.msg+"@m"),s["default"].prototype.$notify.error({title:t.state.title,message:t.state.message,type:"Error",position:"top-right"})})).catch((function(e){t.state.isLoading=!1,422==e.response.status&&(t.dispatch("get_text_title","Error@m"),t.dispatch("get_text_message",e.response.data.errors.Type[0]+"@m"),s["default"].prototype.$notify.error({title:t.state.title,message:t.state.message,type:"Error",position:"top-right"}))}))}}})},a745:function(t,e,a){t.exports=a("f410")},c8bb:function(t,e,a){t.exports=a("54a1")},ffc1:function(t,e,a){var s=a("5ca1"),o=a("504c")(!0);s(s.S,"Object",{entries:function(t){return o(t)}})}}]);
//# sourceMappingURL=chunk-6d8eaf79.645b2cde.js.map