(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05e8ecce"],{2666:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app animated fadeIn"},[s("loading",{attrs:{active:this.$store.state.isLoading,"can-cancel":!0,"is-full-page":this.$store.state.fullPage},on:{"update:active":function(e){return t.$set(this.$store.state,"isLoading",e)}}}),s("b-row",[s("b-col",{ref:"formContainer",attrs:{cols:"12",xl:"12"}},[s("transition",{attrs:{name:"slide"}},[s("b-card",[s("div",{attrs:{slot:"header"},slot:"header"},[s("b",{staticClass:"h4"},[t._v(t._s(t.get_text("title@Users@l")))]),t.$can("user-create")?s("b-button",{staticClass:"btn float-right",attrs:{variant:"primary",size:"md"},on:{click:function(e){t.showingModal=!0}}},[s("b",[s("i",{staticClass:"icon-plus icons font-1xl"}),t._v(" "+t._s(t.get_text("add@Users@l")))])]):t._e()],1),t.$auth.ready()&&this.$store.state.loading?t._e():s("div",[s("div",{staticStyle:{"text-align":"center","padding-top":"50px"}},[t._v("\n                            "+t._s(t.get_text("loading@l"))+"\n                        ")])]),t.$auth.ready()&&this.$store.state.loading?s("div",[s("b-row",[s("b-col",{staticClass:"my-1",attrs:{md:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:t.get_text("filter@l")}},[s("b-input-group",[s("b-form-input",{attrs:{placeholder:t.get_text("type_to_search@l")},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),s("b-input-group-append",[s("b-btn",{attrs:{disabled:!t.filter},on:{click:function(e){t.filter=""}}},[t._v(t._s(t.get_text("clear@l")))])],1)],1)],1)],1),s("b-col",{staticClass:"my-1",attrs:{md:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:t.get_text("sort@l")}},[s("b-input-group",[s("b-form-select",{attrs:{options:t.sortOptions},model:{value:t.sortBy,callback:function(e){t.sortBy=e},expression:"sortBy"}},[s("option",{attrs:{slot:"first"},domProps:{value:null},slot:"first"},[t._v(t._s(t.get_text("none@l"))+" ")])]),s("b-form-select",{attrs:{slot:"append",disabled:!t.sortBy},slot:"append",model:{value:t.sortDesc,callback:function(e){t.sortDesc=e},expression:"sortDesc"}},[s("option",{domProps:{value:!1}},[t._v(t._s(t.get_text("asc@l")))]),s("option",{domProps:{value:!0}},[t._v(t._s(t.get_text("desc@l")))])])],1)],1)],1),s("b-col",{staticClass:"my-1",attrs:{md:"4"}},[s("b-form-group",{staticClass:"mb-0",attrs:{horizontal:"",label:t.get_text("per_page@l")}},[s("b-form-select",{attrs:{options:t.pageOptions},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),s("b-table",{attrs:{hover:t.hover,striped:t.striped,bordered:t.bordered,small:t.small,fixed:t.fixed,responsive:"sm",items:t.users,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"id",fn:function(e){return[s("b-col",{staticClass:"mb-3 mb-xl-0"},[t._v("\n                                    "+t._s(e.index+1)+"\n                                ")])]}},{key:"status",fn:function(e){return[s("b-badge",{attrs:{variant:t.getBadge(e.item.status)}},[t._v(t._s(t.getName(e.item.status))+"\n                                ")])]}},{key:"Actions",fn:function(e){return[s("b-row",{staticClass:"text-center"},[t.$can("user-view")?s("b-col",{staticClass:"mb-3 mb-xl-0",attrs:{cols:"2",sm:"4",md:"2",xl:"1"}},[s("b-button",{attrs:{variant:"primary",size:"sm"},on:{click:function(s){return t.editUser(e.item,"view")}}},[s("b",[s("i",{staticClass:"icon-eye icons font-1xl"})])])],1):t._e(),t._v(" \n                                    "),t.$can("user-edit")?s("b-col",{staticClass:"mb-xl-0",attrs:{cols:"2",sm:"4",md:"2",xl:"1"}},[s("b-button",{attrs:{variant:"warning",size:"sm"},on:{click:function(s){return t.editUser(e.item,"edit")}}},[s("b",[s("i",{staticClass:"icon-pencil icons font-1xl"})])])],1):t._e(),t._v(" \n                                    "),t.$can("user-delete")?s("b-col",{staticClass:"mb-3 mb-xl-0",attrs:{cols:"2",sm:"4",md:"2",xl:"1"}},[s("b-button",{attrs:{variant:"danger",size:"sm"},on:{click:function(s){t.showingdeleteModal=!0,t.selectUser(e.item)}}},[s("b",[s("i",{staticClass:"icon-trash icons font-1xl"})])])],1):t._e()],1)]}}],null,!1,758315163)}),s("nav",[s("b-pagination",{attrs:{size:"sm","total-rows":t.getRowCount,"per-page":t.perPage,"prev-text":t.get_text("prev@l"),"next-text":t.get_text("next@l"),"hide-goto-end-buttons":""},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1):t._e()])],1),s("b-modal",{staticClass:"modal-primary",attrs:{title:t.get_text("add@Users@l"),size:"lg","hide-footer":""},on:{close:t.setUserData},model:{value:t.showingModal,callback:function(e){t.showingModal=e},expression:"showingModal"}},[s("b-form",{on:{submit:function(e){return e.preventDefault(),t.createUser(e)}}},[s("b-row",[s("b-col",{attrs:{sm:"4"}},[s("b-form-group",[s("label",{attrs:{for:"name"}},[t._v(t._s(t.get_text("name@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.submitted&&t.errors.has("name")},attrs:{type:"text",name:"name",id:"name",placeholder:t.get_text("enter_your_name@Users@l")},model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}}),t.submitted&&t.errors.has("name")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("name"))+"\n                                ")]):t._e()],1)],1),s("b-col",{attrs:{sm:"4"}},[s("b-form-group",[s("label",{attrs:{for:"second_name"}},[t._v(t._s(t.get_text("second_name@Users@l")))]),s("b-form-input",{attrs:{type:"text",id:"second_name",placeholder:t.get_text("enter_your_second_name@Users@l")},model:{value:t.userData.second_name,callback:function(e){t.$set(t.userData,"second_name",e)},expression:"userData.second_name"}})],1)],1),s("b-col",{attrs:{sm:"4"}},[s("b-form-group",[s("label",{attrs:{for:"last_name"}},[t._v(t._s(t.get_text("last_name@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.submitted&&t.errors.has("last_name")},attrs:{type:"text",name:"last_name",id:"last_name",placeholder:t.get_text("enter_your_last_name@Users@l")},model:{value:t.userData.last_name,callback:function(e){t.$set(t.userData,"last_name",e)},expression:"userData.last_name"}}),t.submitted&&t.errors.has("last_name")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("last_name"))+"\n                                ")]):t._e()],1)],1)],1),s("b-row",[s("b-col",{attrs:{sm:"3"}},[s("b-form-group",[s("label",{attrs:{for:"name"}},[t._v(t._s(t.get_text("email@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],class:{"is-invalid":t.submitted&&t.errors.has("email")},attrs:{type:"text",name:"email",id:"email",placeholder:t.get_text("enter_your_email@Users@l")},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}}),t.submitted&&t.errors.has("email")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("email"))+"\n                                ")]):t._e()],1)],1),s("b-col",{attrs:{sm:"6"}},[s("b-form-group",[s("label",{attrs:{for:"status"}},[t._v(t._s(t.get_text("tenant@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.submitted&&t.errors.has("subtenant_id")},attrs:{name:"subtenant_id"},model:{value:t.userData.subtenant_id,callback:function(e){t.$set(t.userData,"subtenant_id",e)},expression:"userData.subtenant_id"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.get_text("please_select@Users@l"))+" ")])]),s("child",{attrs:{tree:this.$store.state.parents}})],2),t.submitted&&t.errors.has("subtenant_id")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("subtenant_id"))+"\n                                ")]):t._e()],1)],1),s("b-col",{attrs:{sm:"3"}},[s("b-form-group",[s("label",{attrs:{for:"status"}},[t._v(t._s(t.get_text("status@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.submitted&&t.errors.has("status")},attrs:{id:"status",plain:!0,value:"Please select",name:"status",options:[{text:t.get_text("please_select@Users@l"),value:null},{text:t.get_text("active@Users@l"),value:"1"},{text:t.get_text("deactive@Users@l"),value:"0"}]},model:{value:t.userData.status,callback:function(e){t.$set(t.userData,"status",e)},expression:"userData.status"}}),t.submitted&&t.errors.has("status")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("status"))+"\n                                ")]):t._e()],1)],1)],1),s("b-row",[s("b-col",{attrs:{sm:"6"}},[s("b-form-group",[s("label",{attrs:{for:"status"}},[t._v(t._s(t.get_text("roles@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.submitted&&t.errors.has("user_type")},attrs:{multiple:!0,options:this.$store.state.groupTanent,name:"user_type"},model:{value:t.userData.user_type,callback:function(e){t.$set(t.userData,"user_type",e)},expression:"userData.user_type"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.get_text("please_select@Users@l")))])])],2),t.submitted&&t.errors.has("user_type")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("user_type"))+"\n                                ")]):t._e()],1)],1),s("b-col",{attrs:{sm:"6"}},[s("b-form-group",[s("label",{attrs:{for:"status"}},[t._v(t._s(t.get_text("tenant_user_group@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.submitted&&t.errors.has("subtenant_user_group_id")},attrs:{plain:!0,multiple:!0,options:this.$store.state.groups,name:"subtenant_user_group_id"},model:{value:t.userData.subtenant_user_group_id,callback:function(e){t.$set(t.userData,"subtenant_user_group_id",e)},expression:"userData.subtenant_user_group_id"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.get_text("please_select@Users@l"))+" ")])])],2),t.submitted&&t.errors.has("subtenant_user_group_id")?s("div",{staticClass:"invalid-feedback"},[t._v("\n                                    "+t._s(t.errors.first("subtenant_user_group_id"))+"\n                                ")]):t._e()],1)],1)],1),s("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"lg",type:"submit"}},[t._v(t._s(t.get_text("save@Users@l")))])],1)],1),s("b-modal",{ref:"vueModel",staticClass:"modal-primary",attrs:{title:t.get_text("edit@Users@l"),size:"lg","hide-footer":""},model:{value:t.showingeditModal,callback:function(e){t.showingeditModal=e},expression:"showingeditModal"}},[s("b-form",{on:{submit:function(e){return e.preventDefault(),t.updateUser(e)}}},[s("b-row",[s("b-col",{attrs:{sm:"4"}},[s("b-form-group",[s("label",{attrs:{for:"name"}},[t._v(t._s(this.get_text("name@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.updated&&t.errors.has("name")},attrs:{type:"text",name:"name",id:"name",placeholder:t.get_text("enter_your_name@Users@l")},model:{value:t.userData.name,callback:function(e){t.$set(t.userData,"name",e)},expression:"userData.name"}}),t.updated&&t.errors.has("name")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("name"))+"\n                                ")]):t._e()],1)],1),s("b-col",{attrs:{sm:"4"}},[s("b-form-group",[s("label",{attrs:{for:"second_name"}},[t._v(t._s(this.get_text("second_name@Users@l")))]),s("b-form-input",{attrs:{type:"text",id:"second_name",placeholder:t.get_text("enter_your_second_name@Users@l")},model:{value:t.userData.second_name,callback:function(e){t.$set(t.userData,"second_name",e)},expression:"userData.second_name"}})],1)],1),s("b-col",{attrs:{sm:"4"}},[s("b-form-group",[s("label",{attrs:{for:"last_name"}},[t._v(t._s(this.get_text("last_name@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.updated&&t.errors.has("last_name")},attrs:{type:"text",name:"last_name",id:"last_name",placeholder:t.get_text("enter_your_last_name@Users@l")},model:{value:t.userData.last_name,callback:function(e){t.$set(t.userData,"last_name",e)},expression:"userData.last_name"}}),t.updated&&t.errors.has("last_name")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("last_name"))+"\n                                ")]):t._e()],1)],1)],1),s("b-row",[s("b-col",{attrs:{sm:"3"}},[s("b-form-group",[s("label",{attrs:{for:"email"}},[t._v(t._s(this.get_text("email@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-input",{directives:[{name:"validate",rawName:"v-validate",value:"required|email",expression:"'required|email'"}],class:{"is-invalid":t.updated&&t.errors.has("email")},attrs:{type:"text",id:"email",name:"email",placeholder:t.get_text("enter_your_email@Users@l")},model:{value:t.userData.email,callback:function(e){t.$set(t.userData,"email",e)},expression:"userData.email"}}),t.updated&&t.errors.has("email")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("email"))+"\n                                ")]):t._e()],1)],1),s("b-col",{attrs:{sm:"6"}},[s("b-form-group",[s("label",{attrs:{for:"status"}},[t._v(t._s(this.get_text("tenant@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.updated&&t.errors.has("subtenant_id")},attrs:{name:"subtenant_id"},model:{value:t.userData.subtenant_id,callback:function(e){t.$set(t.userData,"subtenant_id",e)},expression:"userData.subtenant_id"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.get_text("please_select@l")))])]),s("child",{attrs:{tree:this.$store.state.parents}})],2),t.updated&&t.errors.has("subtenant_id")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("subtenant_id"))+"\n                                ")]):t._e()],1)],1),s("b-col",{attrs:{sm:"3"}},[s("b-form-group",[s("label",{attrs:{for:"status"}},[t._v(t._s(this.get_text("status@users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.updated&&t.errors.has("status")},attrs:{id:"status",plain:!0,value:"Please select",name:"status",options:[{text:t.get_text("please_select@l"),value:null},{text:t.get_text("active@l"),value:"1"},{text:t.get_text("deactive@l"),value:"0"}]},model:{value:t.userData.status,callback:function(e){t.$set(t.userData,"status",e)},expression:"userData.status"}}),t.updated&&t.errors.has("status")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("status"))+"\n                                ")]):t._e()],1)],1)],1),s("b-row",[s("b-col",{attrs:{sm:"6"}},[s("b-form-group",[s("label",{attrs:{for:"status"}},[t._v(t._s(this.get_text("roles@Users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.updated&&t.errors.has("user_type")},attrs:{multiple:!0,options:this.$store.state.groupTanent,name:"user_type"},model:{value:t.userData.user_type,callback:function(e){t.$set(t.userData,"user_type",e)},expression:"userData.user_type"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(this.get_text("please_select@Users@l")))])])],2),t.updated&&t.errors.has("user_type")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("user_type"))+"\n                                ")]):t._e()],1)],1),s("b-col",{attrs:{sm:"6"}},[s("b-form-group",[s("label",{attrs:{for:"status"}},[t._v(t._s(t.get_text("tenant_user_group@users@l"))),s("i",{staticClass:"fa fa-asterisk danger fa-xs",staticStyle:{"font-size":"10px",color:"red"}})]),s("b-form-select",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],class:{"is-invalid":t.updated&&t.errors.has("subtenant_user_group_id")},attrs:{plain:!0,multiple:!0,options:this.$store.state.groups,name:"subtenant_user_group_id"},model:{value:t.userData.subtenant_user_group_id,callback:function(e){t.$set(t.userData,"subtenant_user_group_id",e)},expression:"userData.subtenant_user_group_id"}},[s("template",{slot:"first"},[s("option",{attrs:{disabled:""},domProps:{value:null}},[t._v(t._s(t.get_text("please_select@users@l")))])])],2),t.updated&&t.errors.has("subtenant_user_group_id")?s("div",{staticClass:"invalid-feedback"},[t._v(t._s(t.errors.first("subtenant_user_group_id"))+"\n                                ")]):t._e()],1)],1)],1),s("b-button",{staticClass:"float-right",attrs:{variant:"primary",size:"lg",type:"submit"}},[t._v(t._s(this.get_text("update@Users@l")))])],1)],1),s("b-modal",{staticClass:"modal-danger",attrs:{title:t.get_text("delete@Users@l"),size:"lg","ok-variant":"danger"},model:{value:t.showingdeleteModal,callback:function(e){t.showingdeleteModal=e},expression:"showingdeleteModal"}},[s("div",{staticClass:"modalcontent"},[s("h3",{staticClass:"text-center"},[t._v(t._s(this.get_text("are_you_sure_to_delete@Users@l"))+" "),s("b",[t._v(t._s(t.userData.name))]),t._v("?")]),s("b-col",{staticClass:"text-center",attrs:{md:"12"}},[s("button",{staticClass:"btn btn-outline-danger left",on:{click:function(e){t.showingdeleteModal=!1,t.removeUser(t.userData)}}},[t._v(t._s(this.get_text("yes@l"))+"\n                        ")]),t._v(" \n                        "),s("button",{staticClass:"btn btn-outline-success right",on:{click:function(e){t.showingdeleteModal=!1}}},[t._v(t._s(this.get_text("no@l"))+"\n                        ")])])],1)]),s("b-modal",{staticClass:"modal-info",attrs:{title:"user_information@Users@l",size:"lg","ok-variant":"info"},model:{value:t.showingViewModal,callback:function(e){t.showingViewModal=e},expression:"showingViewModal"}},[this.userInfo?s("div",{staticClass:"modalcontent"},t._l(this.userInfo,(function(e,a){return s("b-row",{key:a},[s("b-col",{attrs:{sm:"6"}},[t._v(t._s(t.get_text(a+"@Users@c")))]),s("b-col",{attrs:{sm:"6"}},[t._v(t._s(e))])],1)})),1):t._e()])],1)],1)],1)},r=[],i=(s("7f7f"),s("28a5"),s("a592")),n=s("a026"),o=(s("0fae"),s("5c96")),l=s.n(o),u=s("9062"),d=s.n(u),c=(s("e40d"),s("d217"));n["default"].use(l.a),n["default"].use(d.a);var m={store:i["a"],props:{hover:{type:Boolean,default:!0},striped:{type:Boolean,default:!0},bordered:{type:Boolean,default:!1},small:{type:Boolean,default:!1},fixed:{type:Boolean,default:!1}},created:function(){this.$store.dispatch("loadUsers"),this.$store.dispatch("loadParentTenant"),this.$store.dispatch("loadGroups"),this.$store.dispatch("loadGroupsTenant")},mounted:function(){},data:function(){return{selected:null,fields:[],button:"",currentPage:1,perPage:10,totalRows:0,userData:{name:null,email:null,second_name:null,last_name:null,subtenant_user_group_id:[],status:null,user_type:[],subtenant_id:null},userInfo:null,showingeditModal:!1,showingViewModal:!1,showingModal:!1,showingdeleteModal:!1,submitted:!1,updated:!1,pageOptions:[5,10,15],sortBy:null,sortDesc:!1,sortDirection:"asc",filter:null,translation:[]}},beforeMount:function(){localStorage.getItem("translation")&&(this.translation=JSON.parse(localStorage.getItem("translation")))},computed:{users:function(){return this.fields=[{key:"id",label:"#",sortable:!1,sortDirection:"desc"},{key:"name",label:this.get_text("name@Users@c"),sortable:!0,sortDirection:"desc"},{key:"email",label:this.get_text("email@Users@c"),sortable:!0,sortDirection:"desc"},{key:"status",label:this.get_text("status@Users@c")},{key:"Actions",label:this.get_text("actions@l"),thClass:"text-center",tdClass:"text-center"}],this.$store.getters.users},getRowCount:function(){return this.$store.getters.getRowCount},sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},watch:{showingeditModal:function(){0==this.showingeditModal&&(this.$store.dispatch("loadUsers"),this.userData={name:null,email:null,second_name:null,last_name:null,subtenant_user_group_id:[],status:null,user_type:[],subtenant_id:null})}},components:{loading:d.a,child:c["a"]},methods:{setUserData:function(){this.userData={name:null,email:null,second_name:null,last_name:null,subtenant_user_group_id:[],status:null,user_type:[],subtenant_id:null}},get_text:function(t){var e=this.translation[this.$i18n.locale][t];if(e)return e;var s=t.split("@");if(s.length>2){var a=s[0]+"@l",r=this.translation[this.$i18n.locale][a];return r||"!"+t}return"!"+t},$can:function(t){return-1!==this.$auth.user().allPermissions.indexOf(t)},createUser:function(){var t=this;this.submitted=!0,this.$validator.validate().then((function(e){e&&(t.resetPasswordBtn=!0,t.showingModal=!1,t.$store.dispatch("createUser",{data:{name:t.userData.name,second_name:t.userData.second_name,last_name:t.userData.last_name,status:t.userData.status,email:t.userData.email,subtenant_id:t.userData.subtenant_id,subtenant_user_group_id:t.userData.subtenant_user_group_id,user_type:t.userData.user_type}}),t.userData={name:null,email:null,second_name:null,last_name:null,subtenant_id:t.userData.subtenant_id,user_type:t.userData.user_type,status:null},t.$validator.reset())}))},selectUser:function(t){this.userData=t},editUser:function(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.$store.state.isLoading=!0,n["default"].axios.get("/user/".concat(t.id),t.data).then((function(t){401==t.data.code?n["default"].prototype.$notify.error({title:"Error",message:t.data.msg,type:"Error",position:"top-right"}):"view"==s?(e.showingViewModal=!0,e.userInfo=t.data.data):(e.showingeditModal=!0,e.userData=t.data.data),e.$store.state.isLoading=!1})).catch((function(t){console.log(t)}))},updateUser:function(){var t=this;this.updated=!0,this.$validator.validate().then((function(e){e&&(t.showingeditModal=!1,t.$store.dispatch("updateUser",{where:t.userData.id,data:{name:t.userData.name,second_name:t.userData.second_name,last_name:t.userData.last_name,status:t.userData.status,email:t.userData.email,subtenant_id:t.userData.subtenant_id,subtenant_user_group_id:t.userData.subtenant_user_group_id,user_type:t.userData.user_type}}),t.userData={name:null,email:null,second_name:null,last_name:null,subtenant_user_group_id:[],status:null},t.$validator.reset())}))},removeUser:function(t){this.$store.dispatch("removeUser",t)},getBadge:function(t){return 1==t?"success":0===t?"warning":"primary"},getName:function(t){return"1"==t?this.get_text("active@l"):"0"==t?this.get_text("deactive@l"):"primary"},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},_=m,p=(s("e56b"),s("e8bf"),s("2877")),f=Object(p["a"])(_,a,r,!1,null,"1e8c5452",null);e["default"]=f.exports},4634:function(t,e,s){},"61e9":function(t,e,s){},"7f7f":function(t,e,s){var a=s("86cc").f,r=Function.prototype,i=/^\s*function ([^ (]*)/,n="name";n in r||s("9e1e")&&a(r,n,{configurable:!0,get:function(){try{return(""+this).match(i)[1]}catch(t){return""}}})},a592:function(t,e,s){"use strict";s.d(e,"a",(function(){return l}));s("7f7f");var a=s("a026"),r=s("2f62"),i=s("5c96"),n=s.n(i),o=s("d3a4");a["default"].use(r["a"]),a["default"].use(n.a),a["default"].prototype.$notify=i["Notification"];var l=new r["a"].Store({state:{translations:{en:{hello:"Hello World"},ar:{hello:"Hallo Verden"}},loading:!1,users:[],userProfile:[],groups:[],parents:[],isLoading:!1,fullPage:!0,title:"",message:""},mutations:{SET_USERS:function(t,e){t.users=e},SET_USER_PROFILE:function(t,e){t.userProfile=e},SET_GROUP:function(t,e){t.groups=e.map((function(t){return{text:t.name,value:t.id}}))},REMOVE_USER:function(t,e){var s=t.users;s.splice(s.indexOf(e),1)},UPDATE_USER:function(t,e){console.log(e)},CREATED_USER:function(t,e){console.log("add User",e),this.dispatch("loadUsers"),console.log("after User",t.users)},SET_PARENT_TANENTS:function(t,e){t.parents=e},SET_GROUP_TANENTS:function(t,e){console.log(e),t.groupTanent=e.map((function(t){return{text:t.name,value:t.name}}))},GET_TEXT_TITLE:function(t,e){return t.title=e},GET_TEXT_MSG:function(t,e){return t.message=e}},getters:{users:function(t){return t.users},getRowCount:function(t){return t.users.length}},actions:{get_text_title:function(t,e){var s=t.commit,a=this.state.translations[o["a"].locale][e];s("GET_TEXT_TITLE",a||"!"+e)},get_text_message:function(t,e){var s=t.commit,a=this.state.translations[o["a"].locale][e];s("GET_TEXT_MSG",a||"!"+e)},loadUsers:function(t){var e=this,s=t.commit;this.state.isLoading=!0,a["default"].axios({url:"user",method:"GET"}).then((function(t){200==t.data.code?s("SET_USERS",t.data.data):(e.dispatch("get_text_title","Error"),e.dispatch("get_text_message",t.data.msg),a["default"].prototype.$notify.error({title:e.state.title,message:e.state.message,type:"Error",position:"top-right"})),e.state.isLoading=!1}))},loadGroups:function(t){var e=this,s=t.commit;a["default"].axios({url:"allGroup",method:"GET"}).then((function(t){200==t.data.code&&(e.state.loading=!0,s("SET_GROUP",t.data.groups))}))},loadParentTenant:function(t){var e=this,s=t.commit;a["default"].axios({url:"allTenant",method:"GET"}).then((function(t){200==t.data.code&&(e.state.loading=!0,s("SET_PARENT_TANENTS",t.data.subTenants))}))},loadUsersProfile:function(t,e){var s=this,r=t.commit;this.state.isLoading=!0,a["default"].axios({url:"/user/".concat(e.id,"/profile"),method:"GET"}).then((function(t){alert(t.data.code),200==t.data.code?r("SET_USER_PROFILE",t.data.data):(s.dispatch("get_text_title","Error@m"),s.dispatch("get_text_message",t.data.msg+"@m"),a["default"].prototype.$notify.error({title:s.state.title,message:s.state.message,type:"Error",position:"top-right"})),s.state.isLoading=!1}))},loadGroupsTenant:function(t){var e=this,s=t.commit;a["default"].axios({url:"rolesList",method:"GET"}).then((function(t){200==t.data.code&&(console.log(t.data),e.state.loading=!0,s("SET_GROUP_TANENTS",t.data.roles))}))},updateUserProfile:function(t,e){var s=this,r=(t.commit,{headers:{"content-type":"multipart/form-data"}});this.state.isLoading=!0,a["default"].axios.post("/user/".concat(e.where,"/profile"),e.data,r).then((function(t){204==t.data.code?(s.dispatch("get_text_title","Success@m"),s.dispatch("get_text_message",t.data.msg+"@m"),console.log("Update user",t.data.code,"from the server"),a["default"].prototype.$notify({title:s.state.title,message:s.state.message,type:"success",position:"top-right"})):(s.dispatch("get_text_title","Error@m"),s.dispatch("get_text_message",t.data.msg+"@m"),a["default"].prototype.$notify.error({title:s.state.title,message:s.state.message,type:"Error",position:"top-right"})),s.state.isLoading=!1}))},updateUserPassword:function(t,e){var s=this;t.commit;this.state.isLoading=!0,a["default"].axios.put("/user/".concat(e.where,"/credentials"),e.data).then((function(t){console.log("Update user",t.data.code,"from the server"),s.dispatch("get_text_title","Success@m"),s.dispatch("get_text_message",t.data.msg+"@m"),console.log("Update user",t.data.code,"from the server"),a["default"].prototype.$notify({title:s.state.title,message:s.state.message,type:"success",position:"top-right"}),s.state.isLoading=!1}))},removeUser:function(t,e){var s=this,r=t.commit;this.state.isLoading=!0,a["default"].axios.delete("/user/".concat(e.id)).then((function(t){s.state.isLoading=!1,200==t.data.code?(console.log("removed user",t.data.code,"from the server"),s.dispatch("get_text_title","Success@m"),s.dispatch("get_text_message",t.data.msg+"@m"),a["default"].prototype.$notify({title:s.state.title,message:s.state.message,type:"success",position:"top-right"}),r("REMOVE_USER",e)):(s.dispatch("get_text_title","Error@m"),s.dispatch("get_text_message",t.data.msg+"@m"),a["default"].prototype.$notify.error({title:s.state.title,message:s.state.message,type:"Error",position:"top-right"}))}))},updateUser:function(t,e){var s=this,r=t.commit;this.state.isLoading=!0,a["default"].axios.put("/user/".concat(e.where),e.data).then((function(t){s.state.isLoading=!1,console.log("Update user",t.data.code,"from the server"),s.dispatch("get_text_title","Success@m"),s.dispatch("get_text_message",t.data.msg+"@m"),a["default"].prototype.$notify({title:s.state.title,message:s.state.message,type:"success",position:"top-right"}),r("UPDATE_USER",e.data)}))},createUser:function(t,e){var s=this,r=t.commit;this.state.isLoading=!0,a["default"].axios.post("/user",e.data).then((function(t){s.state.isLoading=!1,200==t.data.code?(s.dispatch("get_text_title","Success@m"),s.dispatch("get_text_message",t.data.msg+"@m"),console.log("Created user",t.data.code,"from the server"),a["default"].prototype.$notify({title:s.state.title,message:s.state.message,type:"success",position:"top-right"}),r("CREATED_USER",e.data)):(s.dispatch("get_text_title","Error@m"),s.dispatch("get_text_message",t.data.msg+"@m"),a["default"].prototype.$notify.error({title:s.state.title,message:s.state.message,type:"Error",position:"top-right"}))}))},translation:function(){var t=this;a["default"].axios.get("/gettranslations").then((function(e){if(t.state.isLoading=!1,200==e.data.code){JSON.stringify(e.data.data);t.state.translations=e.data.data}else t.dispatch("get_text_title","Error@m"),t.dispatch("get_text_message",e.data.msg+"@m"),a["default"].prototype.$notify.error({title:t.state.title,message:t.state.message,type:"Error",position:"top-right"})})).catch((function(e){t.state.isLoading=!1,422==e.response.status&&(t.dispatch("get_text_title","Error@m"),t.dispatch("get_text_message",e.response.data.errors.Type[0]+"@m"),a["default"].prototype.$notify.error({title:t.state.title,message:t.state.message,type:"Error",position:"top-right"}))}))}}})},d217:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("optgroup",{attrs:{label:t.get_text("select_the_parent_entity@users@l")},domProps:{innerHTML:t._s(t.html)}},[t._v("\n    "+t._s(this.tree)+"\n")])},r=[],i=(s("7f7f"),s("14b9"),s("ac6a"),s("28a5"),{mounted:function(){this.buildTree(this.tree,1)},data:function(){return{dash:"-",firstTime:0,html:"",translation:[]}},beforeMount:function(){localStorage.getItem("translation")&&(this.translation=JSON.parse(localStorage.getItem("translation")))},props:["tree"],methods:{get_text:function(t){var e=this.translation[this.$i18n.locale][t];if(e)return e;var s=t.split("@");if(s.length>2){var a=s[0]+"@l",r=this.translation[this.$i18n.locale][a];return r||"!"+t}return"!"+t},buildTree:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=this,a="--";return t.forEach((function(t){s.firstTime++,null!=t.bpm_ref&&0!=t.bpm_ref||(s.html+="<option value='"+t.id+"'>"+a.repeat(e)+t.name+"</option>"),"undefined"!=typeof t.tree&&t.tree.length>0&&s.buildTree(t.tree,e+2)})),s.html}},watch:{tree:{handler:function(){this.html="",this.buildTree(this.tree)},deep:!0}}}),n=i,o=s("2877"),l=Object(o["a"])(n,a,r,!1,null,null,null);e["a"]=l.exports},e56b:function(t,e,s){"use strict";var a=s("61e9"),r=s.n(a);r.a},e8bf:function(t,e,s){"use strict";var a=s("4634"),r=s.n(a);r.a}}]);
//# sourceMappingURL=chunk-05e8ecce.7ea718f9.js.map