(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8d7a0e50"],{"03b2":function(t,e,a){"use strict";var o=a("6fb7"),i=a.n(o);i.a},"6fb7":function(t,e,a){},"7c6f":function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app animated fadeIn"},[a("b-row",[a("b-col",{ref:"formContainer",attrs:{cols:"12",xl:"12"}},[a("transition",{attrs:{name:"slide"}},[a("div",{staticClass:"control-section",staticStyle:{height:"100%",width:"100%","background-color":"#ffffff"}},[a("b-card",[a("div",{attrs:{slot:"header"},slot:"header"},[a("b",{staticClass:"h4"},[t._v(t._s(t.get_text("organization_chart@subtenant@l")))]),a("b-button",{staticClass:"btn float-right",staticStyle:{"margin-left":"15px","margin-bottom":"5px","margin-top":"5px"},attrs:{variant:"success",size:"md"},on:{click:function(e){return t.$router.go(-1)}}},[t._v(t._s(t.get_text("back@l"))+"\n                            ")])],1),a("ejs-diagram",{staticStyle:{display:"block"},attrs:{id:"diagram",width:t.width,height:t.height,getConnectorDefaults:t.getConnectorDefaults,getNodeDefaults:t.getNodeDefaults,snapSettings:t.snapSettings,layout:t.layout,dataSourceSettings:t.dataSourceSettings,tool:t.tool}})],1)],1)])],1)],1)],1)},i=[],n=(a("28a5"),a("a026")),s=a("289c"),r=a("bccc"),d=a("beab"),l=a("289d"),c=a("4f3e"),g=a("b9cc");n["default"].use(s["a"]);var p=n["default"].extend({name:"User",store:g["a"],props:["test"],data:function(){return{width:"100%",height:1050,dataTest:[],subtanents:[],subtanentstree:[],subtanentsname:[],subtanentsnamenew:[],translation:[],layout:{type:"OrganizationalChart",horizontalSpacing:50,getLayoutInfo:function(t,e){"9"===t.data["Name"]&&(e.assistants.push(e.children[0]),e.children.splice(0,1),e.orientation="Horizontal"),e.hasSubTree||(e.type="Center",e.orientation="Horizontal")}},getNodeDefaults:function(t){t.shape={type:"Basic",shape:"Rectangle",marginBottom:0},t.shape.margin={left:0,right:0,top:0,bottom:0},t.draggable=!0,t.collapseIcon.offset={x:.5,y:.85},t.collapseIcon.height=15,t.collapseIcon.width=15,t.collapseIcon.shape="Plus",t.height=50,t.borderColor="#000000",t.borderWidth=1,1==t.data["subtanentid"]&&(console.log(t),t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.width=180,t.height=100),2==t.data["subtanentid"]&&(t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.width=180,t.height=100),3==t.data["subtanentid"]&&(t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.width=100,t.height=130),4==t.data["subtanentid"]&&(t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.expandIcon={height:15,width:15,shape:"Minus",fill:"lightgray",offset:{x:.5,y:.85}},t.width=60,t.height=100),5==t.data["subtanentid"]&&(t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.data={offset:{x:.5,y:.85}},t.width=60,t.height=140),6==t.data["subtanentid"]&&(t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.width=60,t.height=140),7==t.data["subtanentid"]&&(t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.width=60,t.height=140),8==t.data["subtanentid"]&&(t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.width=60,t.height=140),9==t.data["subtanentid"]&&(t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.width=60,t.height=140),10==t.data["subtanentid"]&&(t.style.fill=t.data["colorcode"],t.backgroundColor=t.data["colorcode"],t.width=60,t.height=140)},getConnectorDefaults:function(t){t.type="Orthogonal",t.style.strokeColor="#000000",t.targetDecorator.shape="Arrow",t.style.length=1e3},tool:r["f"].ZoomPan,snapSettings:{constraints:0}}},beforeMount:function(){localStorage.getItem("translation")&&(this.translation=JSON.parse(localStorage.getItem("translation")))},computed:{dataSourceSettings:function(){return{id:"Name",parentId:"ReportingPerson",dataManager:new c["a"](this.subtanentsname),doBinding:function(t,e,a){if(1===e["subtanentid"])var o='<div style="word-wrap: break-word;color:black;width:130px;height:70px;margin-left: -90px;margin-top: -7px;">'+e["LabelName"]+"</div>";if(2===e["subtanentid"])o='<div style="word-wrap: break-word;color:black;width:130px;height:70px;margin-left:-76px;margin-top: -10px;">'+e["LabelName"]+"</div>";if(3===e["subtanentid"])o='<div style="word-wrap: break-word;color:black;width:75px;margin-left:-36px;height:70px;margin-top:-50px;">'+e["LabelName"]+"</div>";if(4===e["subtanentid"])o='<div style="word-wrap: break-word;color:black;width:48px;margin-left:-24px;height:70px;margin-top:-40px;font-size: 10px;">'+e["LabelName"]+"</div>";if(5===e["subtanentid"])o='<div style="word-wrap: break-word;color:black;width:48px;margin-left:-24px;height:70px;margin-top:-40px;font-size: 10px;">'+e["LabelName"]+"</div>";if(6===e["subtanentid"])o='<div style="word-wrap: break-word;color:black;width:48px;margin-left:-24px;height:70px;margin-top:-40px;font-size: 10px;">'+e["LabelName"]+"</div>";if(7===e["subtanentid"])o='<div style="word-wrap: break-word;color:black;width:48px;margin-left:-24px;height:70px;margin-top:-40px;font-size: 10px;">'+e["LabelName"]+"</div>";if(8===e["subtanentid"])o='<div style="word-wrap: break-word;color:black;width:48px;margin-left:-24px;height:70px;margin-top:-40px;font-size: 10px;">'+e["LabelName"]+"</div>";if(9===e["subtanentid"])o='<div style="word-wrap: break-word;color:black;width:48px;margin-left:-24px;height:70px;margin-top:-40px;font-size: 10px;">'+e["LabelName"]+"</div>";if(10===e["subtanentid"])o='<div style="word-wrap: break-word;color:black;width:48px;margin-left:-24px;height:70px;margin-top:-40px;font-size: 10px;">'+e["LabelName"]+"</div>";t.annotations=[{template:o,style:{fontSize:10},textAlign:"top",textOverflow:"Ellipsis",horizontalAlignment:"top"}],t.style={}}}}},provide:{diagram:[d["a"],l["a"]]},created:function(){this.subtanentsname=this.$route.params.test},methods:{get_text:function(t){var e=this.translation[this.$i18n.locale][t];if(e)return e;var a=t.split("@");if(a.length>2){var o=a[0]+"@l",i=this.translation[this.$i18n.locale][o];return i||"!"+t}return"!"+t}}}),h=p,u=(a("03b2"),a("2877")),f=Object(u["a"])(h,o,i,!1,null,null,null);e["default"]=f.exports},"7f7f":function(t,e,a){var o=a("86cc").f,i=Function.prototype,n=/^\s*function ([^ (]*)/,s="name";s in i||a("9e1e")&&o(i,s,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},b9cc:function(t,e,a){"use strict";a.d(e,"a",(function(){return d}));a("7f7f");var o=a("a026"),i=a("2f62"),n=a("5c96"),s=a.n(n),r=a("d3a4");o["default"].use(i["a"]),o["default"].use(s.a),o["default"].prototype.$notify=n["Notification"];var d=new i["a"].Store({state:{translations:{en:{hello:"Hello World"},ar:{hello:"Hallo Verden"}},loading:!1,tanents:[],parents:[],getSingle:[],editTanentData:[],isLoading:!1,fullPage:!0,title:"",message:""},mutations:{SET_TANENTS:function(t,e){t.tanents=e},GET_DETAIL_TANENT:function(t,e){t.editTanentData={name:e.name,description:e.description,id:e.id}},REMOVE_TANENT:function(t,e){var a=t.tanents;a.splice(a.indexOf(e),1),this.dispatch("loadTanent")},UPDATE_TANENT:function(t,e){console.log(e),this.dispatch("loadTanent")},CREATED_TANENT:function(t,e){console.log("add tanent",e),this.dispatch("loadTanent"),console.log("after tanent",t.tanents)},GET_TEXT_TITLE:function(t,e){return t.title=e},GET_TEXT_MSG:function(t,e){return t.message=e}},getters:{tanents:function(t){return t.tanents},getRowCount:function(t){return t.tanents.length},parentNode:function(t){return t.editTanentData}},actions:{get_text_title:function(t,e){var a=t.commit,o=this.state.translations[r["a"].locale][e];a("GET_TEXT_TITLE",o||"!"+e)},get_text_message:function(t,e){var a=t.commit,o=this.state.translations[r["a"].locale][e];a("GET_TEXT_MSG",o||"!"+e)},loadTanent:function(t){var e=this,a=t.commit;this.state.isLoading=!0,o["default"].axios({url:"tenant",method:"GET"}).then((function(t){e.state.isLoading=!1,200==t.data.code?(e.state.loading=!0,a("SET_TANENTS",t.data.subTenants)):(e.dispatch("get_text_title","Error@m"),e.dispatch("get_text_message",t.data.msg+"@m"),o["default"].prototype.$notify.error({title:e.state.title,message:e.state.message,type:"Error",position:"top-right"}))}))},removeTanent:function(t,e){var a=this,i=t.commit;this.state.isLoading=!0,o["default"].axios.delete("/tenant/".concat(e.id)).then((function(t){a.state.isLoading=!1,200==t.data.code?(a.dispatch("get_text_title","Success@m"),a.dispatch("get_text_message",t.data.msg+"@m"),console.log("removed tenant",t.data.code,"from the server"),o["default"].prototype.$notify({title:a.state.title,message:a.state.message,type:"success",position:"top-right"}),i("REMOVE_TANENT",e)):(a.dispatch("get_text_title","Error@m"),a.dispatch("get_text_message",t.data.msg+"@m"),o["default"].prototype.$notify.error({title:a.state.title,message:a.state.message,type:"Error",position:"top-right"}))}))},editTanent:function(t,e){var a=this,i=t.commit;this.state.isLoading=!0,o["default"].axios.get("/tenant/".concat(e.id),e.data).then((function(t){a.state.isLoading=!1,401==t.data.code?(a.dispatch("get_text_title","Error@m"),a.dispatch("get_text_message",t.data.msg+"@m"),o["default"].prototype.$notify.error({title:a.state.title,message:a.state.message,type:"Error",position:"top-right"})):i("GET_DETAIL_TANENT",t.data.data)}))},updateTanent:function(t,e){var a=this,i=t.commit;this.state.isLoading=!0,o["default"].axios.put("/tenant/".concat(e.where),e.data).then((function(t){a.state.isLoading=!1,200==t.data.code?(a.dispatch("get_text_title","Success@m"),a.dispatch("get_text_message",t.data.msg+"@m"),console.log("Update user",t.data.code,"from the server"),o["default"].prototype.$notify({title:a.state.title,message:a.state.message,type:"success",position:"top-right"}),i("UPDATE_TANENT",e.data)):(a.dispatch("get_text_title","Error@m"),a.dispatch("get_text_message",t.data.msg),o["default"].prototype.$notify.error({title:a.state.title,message:a.state.message,type:"Error",position:"top-right"}))}))},createTanent:function(t,e){var a=this,i=t.commit;this.state.isLoading=!0,o["default"].axios.post("/tenant",e.data).then((function(t){a.state.isLoading=!1,200==t.data.code?(a.dispatch("get_text_title","Success@m"),a.dispatch("get_text_message",t.data.msg+"@m"),console.log("Created user",t.data.code,"from the server"),o["default"].prototype.$notify({title:a.state.title,message:a.state.message,type:"success",position:"top-right"}),i("CREATED_TANENT",e.data)):(a.dispatch("get_text_title","Error@m"),a.dispatch("get_text_message",t.data.msg+"@m"),o["default"].prototype.$notify.error({title:a.state.title,message:a.state.message,type:"Error",position:"top-right"}))}))},translation:function(){var t=this;o["default"].axios.get("/gettranslations").then((function(e){if(t.state.isLoading=!1,200==e.data.code){JSON.stringify(e.data.data);t.state.translations=e.data.data}else t.dispatch("get_text_title","Error@m"),t.dispatch("get_text_message",e.data.msg+"@m"),o["default"].prototype.$notify.error({title:t.state.title,message:t.state.message,type:"Error",position:"top-right"})})).catch((function(e){t.state.isLoading=!1,422==e.response.status&&(t.dispatch("get_text_title","Error@m"),t.dispatch("get_text_message",e.response.data.errors.Type[0]+"@m"),o["default"].prototype.$notify.error({title:t.state.title,message:t.state.message,type:"Error",position:"top-right"}))}))}}})}}]);
//# sourceMappingURL=chunk-8d7a0e50.6a495fe6.js.map